<!DOCTYPE HTML>
	<head>
		<link rel="stylesheet" href="style.css">
		<meta charset="utf-8">
		<title>JS30 : Drum Set</title>


	</head>

	<body>

		<div id="title">
			JS30 : Drum-Kit : Day-1
		</div><br>
		<div class="deck">
			<div class="key" data-key="103">
				7
			</div>
			<div class="key" data-key="104">
				8
			</div>
			<div class="key" data-key="105">
				9
			</div>

			<br>

			<div class="key" data-key="100">
				4
			</div>
			<div class="key" data-key="101">
				5
			</div>
			<div class="key" data-key="102">
				6
			</div>

			<br>

			<div class="key" data-key="97">
				1
			</div>
			<div class="key" data-key="98">
				2
			</div>
			<div class="key" data-key="99">
				3
			</div>

		</div>

		<div id="credits">
			Developed by Aayush Joglekar, IIIT Allahabad.
		</div>

		<audio src="sounds/clap.wav" data-type="103"></audio>
		<audio src="sounds/boom.wav" data-type="104"></audio>
		<audio src="sounds/hihat.wav" data-type="105"></audio>
		<audio src="sounds/openhat.wav" data-type="100"></audio>
		<audio src="sounds/kick.wav" data-type="101"></audio>
		<audio src="sounds/snare.wav" data-type="102"></audio>
		<audio src="sounds/tink.wav" data-type="97"></audio>
		<audio src="sounds/tom.wav" data-type="98"></audio>
		<audio src="sounds/ride.wav" data-type="99"></audio>


		<script>
			window.addEventListener('keydown',play);

			function play(e){
				const audio=document.querySelector(`audio[data-type="${e.keyCode}"`);
		

				

				const key=document.querySelector(`div[data-key="${e.keyCode}"`);
				

				

				audio.currentTime=0;
				audio.play();
				key.classList.add('play');
			}

			function playc(e){
				
				const audio=document.querySelector(`audio[data-type="${this.getAttribute("data-key")}"]`)
				
				
				audio.currentTime=0;
				audio.play();
				this.classList.add('play');
			}


			const keys = document.querySelectorAll('.key');

			keys.forEach(key => key.addEventListener('transitionend',removeTransition));

			keys.forEach(key => key.addEventListener('click',playc));

			function removeTransition(e)
			{
				if(e.propertyName !== 'transform') return;
				
				this.classList.remove('play');
			}

			



		</script>

	</body>


</HTML>